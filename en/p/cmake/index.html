<!DOCTYPE html>
<html lang="en" dir="ltr">
    <head><meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1'><meta name='description' content="Building raylib and Its Related Components with CMake">
<title>useCmakeBuildRaylib</title>

<link rel='canonical' href='https://iyumashiro.github.io/en/p/cmake/'>

<link rel="stylesheet" href="/scss/style.min.8e60baf4cd3fc55968717a6e39762f4d28ed7ef6007566b6c7970ad0fe907198.css"><meta property='og:title' content="useCmakeBuildRaylib">
<meta property='og:description' content="Building raylib and Its Related Components with CMake">
<meta property='og:url' content='https://iyumashiro.github.io/en/p/cmake/'>
<meta property='og:site_name' content='iyuMashiro&#39;s forest'>
<meta property='og:type' content='article'><meta property='article:section' content='Post' /><meta property='article:tag' content='Cmake' /><meta property='article:tag' content='raylib' /><meta property='article:published_time' content='2025-02-04T00:00:00&#43;00:00'/><meta property='article:modified_time' content='2025-02-04T00:00:00&#43;00:00'/><meta property='og:image' content='https://iyumashiro.github.io/img/kano.png' />
<meta name="twitter:title" content="useCmakeBuildRaylib">
<meta name="twitter:description" content="Building raylib and Its Related Components with CMake"><meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:image" content='https://iyumashiro.github.io/img/kano.png' />
    <link rel="shortcut icon" href="/favicon.ico" />

    </head>
    <body class="
    article-page
    ">
    <script>
        (function() {
            const colorSchemeKey = 'StackColorScheme';
            if(!localStorage.getItem(colorSchemeKey)){
                localStorage.setItem(colorSchemeKey, "auto");
            }
        })();
    </script><script>
    (function() {
        const colorSchemeKey = 'StackColorScheme';
        const colorSchemeItem = localStorage.getItem(colorSchemeKey);
        const supportDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches === true;

        if (colorSchemeItem == 'dark' || colorSchemeItem === 'auto' && supportDarkMode) {
            

            document.documentElement.dataset.scheme = 'dark';
        } else {
            document.documentElement.dataset.scheme = 'light';
        }
    })();
</script>
<div class="container main-container flex on-phone--column extended"><aside class="sidebar left-sidebar sticky ">
    <button class="hamburger hamburger--spin" type="button" id="toggle-menu" aria-label="Toggle Menu">
        <span class="hamburger-box">
            <span class="hamburger-inner"></span>
        </span>
    </button>

    <header>
        
            
            <figure class="site-avatar">
                <a href="/en/">
                
                    
                    
                    
                        
                        <img src="/img/avatar_huff875947ff372f5d857b9f0ebec8fc6e_2057964_300x0_resize_box_3.png" width="300"
                            height="300" class="site-logo" loading="lazy" alt="Avatar">
                    
                
                </a>
                
                    <span class="emoji">üç•</span>
                
            </figure>
            
        
        
        <div class="site-meta">
            <h1 class="site-name"><a href="/en">iyuMashiro&#39;s forest</a></h1>
            <h2 class="site-description">The reason for the shining of the stars is that everyone can find his own star.</h2>
        </div>
    </header><ol class="menu-social">
            
                <li>
                    <a 
                        href='https://github.com/IyuMashiro'
                        target="_blank"
                        title="GitHub"
                        rel="me"
                    >
                        
                        
                            <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-brand-github" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
  <path d="M9 19c-4.3 1.4 -4.3 -2.5 -6 -3m12 5v-3.5c0 -1 .1 -1.4 -.5 -2c2.8 -.3 5.5 -1.4 5.5 -6a4.6 4.6 0 0 0 -1.3 -3.2a4.2 4.2 0 0 0 -.1 -3.2s-1.1 -.3 -3.5 1.3a12.3 12.3 0 0 0 -6.2 0c-2.4 -1.6 -3.5 -1.3 -3.5 -1.3a4.2 4.2 0 0 0 -.1 3.2a4.6 4.6 0 0 0 -1.3 3.2c0 4.6 2.7 5.7 5.5 6c-.6 .6 -.6 1.2 -.5 2v3.5" />
</svg>



                        
                    </a>
                </li>
            
                <li>
                    <a 
                        href='https://twitter.com/IyuMashiro'
                        target="_blank"
                        title="Twitter"
                        rel="me"
                    >
                        
                        
                            <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-brand-twitter" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
  <path d="M22 4.01c-1 .49 -1.98 .689 -3 .99c-1.121 -1.265 -2.783 -1.335 -4.38 -.737s-2.643 2.06 -2.62 3.737v1c-3.245 .083 -6.135 -1.395 -8 -4c0 0 -4.182 7.433 4 11c-1.872 1.247 -3.739 2.088 -6 2c3.308 1.803 6.913 2.423 10.034 1.517c3.58 -1.04 6.522 -3.723 7.651 -7.742a13.84 13.84 0 0 0 .497 -3.753c-.002 -.249 1.51 -2.772 1.818 -4.013z" />
</svg>



                        
                    </a>
                </li>
            
        </ol><ol class="menu" id="main-menu">
        
        
        
        <li >
            <a href='/en/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-home" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <polyline points="5 12 3 12 12 3 21 12 19 12" />
  <path d="M5 12v7a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-7" />
  <path d="M9 21v-6a2 2 0 0 1 2 -2h2a2 2 0 0 1 2 2v6" />
</svg>



                
                <span>Home</span>
            </a>
        </li>
        
        
        <li >
            <a href='/en/about/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-user" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="12" cy="7" r="4" />
  <path d="M6 21v-2a4 4 0 0 1 4 -4h4a4 4 0 0 1 4 4v2" />
</svg>



                
                <span>about</span>
            </a>
        </li>
        
        
        <li >
            <a href='/en/archives/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-archive" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <rect x="3" y="4" width="18" height="4" rx="2" />
  <path d="M5 8v10a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-10" />
  <line x1="10" y1="12" x2="14" y2="12" />
</svg>



                
                <span>Archives</span>
            </a>
        </li>
        
        
        <li >
            <a href='/en/search/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-search" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="10" cy="10" r="7" />
  <line x1="21" y1="21" x2="15" y2="15" />
</svg>



                
                <span>Search</span>
            </a>
        </li>
        
        
        <li >
            <a href='/en/links/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5" />
  <path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5" />
</svg>



                
                <span>Links</span>
            </a>
        </li>
        
        <li class="menu-bottom-section">
            <ol class="menu">
                    
                        <li id="i18n-switch">  
                            <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-language" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
  <path d="M4 5h7" />
  <path d="M9 3v2c0 4.418 -2.239 8 -5 8" />
  <path d="M5 9c-.003 2.144 2.952 3.908 6.7 4" />
  <path d="M12 20l4 -9l4 9" />
  <path d="M19.1 18h-6.2" />
</svg>



                            <select name="language" title="language" onchange="window.location.href = this.selectedOptions[0].value">
                                
                                    <option value="https://iyumashiro.github.io/" >‰∏≠Êñá</option>
                                
                                    <option value="https://iyumashiro.github.io/en/" selected>English</option>
                                
                            </select>
                        </li>
                    
                

                
                    <li id="dark-mode-toggle">
                        <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="8" cy="12" r="2" />
  <rect x="2" y="6" width="20" height="12" rx="6" />
</svg>



                        <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-right" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="16" cy="12" r="2" />
  <rect x="2" y="6" width="20" height="12" rx="6" />
</svg>



                        <span>Dark Mode</span>
                    </li>
                
            </ol>
        </li>
    </ol>
</aside>

    <aside class="sidebar right-sidebar sticky">
        
            
                
    <section class="widget archives">
        <div class="widget-icon">
            <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-hash" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <line x1="5" y1="9" x2="19" y2="9" />
  <line x1="5" y1="15" x2="19" y2="15" />
  <line x1="11" y1="4" x2="7" y2="20" />
  <line x1="17" y1="4" x2="13" y2="20" />
</svg>



        </div>
        <h2 class="widget-title section-title">Table of contents</h2>
        
        <div class="widget--toc">
            <nav id="TableOfContents">
  <ol>
    <li><a href="#raylib-overview">raylib overview</a></li>
    <li><a href="#purpose-of-this-blog">Purpose of This Blog</a></li>
    <li><a href="#begin">begin</a>
      <ol>
        <li><a href="#environment-variables">environment variables</a></li>
        <li><a href="#file-structure">File structure</a></li>
        <li><a href="#writing-the-cmakeliststxt-file">Writing the CMakeLists.txt File</a>
          <ol>
            <li><a href="#top-level-cmakeliststxt">Top-Level CMakeLists.txt</a></li>
            <li><a href="#cmakeliststxt-inside-the-src-directory">CMakeLists.txt Inside the src Directory</a></li>
            <li><a href="#raylib-related-configurations">raylib Related configurations</a></li>
            <li><a href="#write-test-code">Write test code</a></li>
            <li><a href="#build">build</a></li>
          </ol>
        </li>
        <li><a href="#end">End</a></li>
      </ol>
    </li>
  </ol>
</nav>
        </div>
    </section>

            
        
    </aside>


            <main class="main full-width">
    <article class="has-image main-article">
    <header class="article-header">
        <div class="article-image">
            <a href="/en/p/cmake/">
                
                    <img src="/img/kano.png" loading="lazy" alt="Featured image of post useCmakeBuildRaylib" />
                
            </a>
        </div>
    

    <div class="article-details">
    
    <header class="article-category">
        
            <a href="/en/categories/cmake/" >
                Cmake
            </a>
        
            <a href="/en/categories/raylib/" >
                Raylib
            </a>
        
    </header>
    

    <div class="article-title-wrapper">
        <h2 class="article-title">
            <a href="/en/p/cmake/">useCmakeBuildRaylib</a>
        </h2>
    
        
        <h3 class="article-subtitle">
            Building raylib and Its Related Components with CMake
        </h3>
        
    </div>

    
    
    
    
    <footer class="article-time">
        
            <div>
                <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-calendar-time" width="56" height="56" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <path d="M11.795 21h-6.795a2 2 0 0 1 -2 -2v-12a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v4" />
  <circle cx="18" cy="18" r="4" />
  <path d="M15 3v4" />
  <path d="M7 3v4" />
  <path d="M3 11h16" />
  <path d="M18 16.496v1.504l1 1" />
</svg>
                <time class="article-time--published">Feb 04, 2025</time>
            </div>
        

        
            <div>
                <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="12" cy="12" r="9" />
  <polyline points="12 7 12 12 15 15" />
</svg>



                <time class="article-time--reading">
                    10 minute read
                </time>
            </div>
        
    </footer>
    

    
</div>

</header>

    <section class="article-content">
    
    
    <h2 id="raylib-overview">
    <a href="#raylib-overview">#</a>
    raylib overview
</h2><p>raylib is a simple and easy-to-use library that allows us to enjoy game programming with ease. In addition to raylib itself, the author also provides other extension components. The official website of raylib is <a class="link" href="https://www.raylib.com/"  target="_blank" rel="noopener"
    >https://www.raylib.com/</a>, where you can find more detailed information.</p>
<h2 id="purpose-of-this-blog">
    <a href="#purpose-of-this-blog">#</a>
    Purpose of This Blog
</h2><p>The author came across this lib by chance. After some hands-on experience, an idea emerged: could the modules provided by the raylib author be integrated with raylib using CMake? After a period of research, a basic integration was successfully achieved. This blog will document the integration process and the issues encountered along the way.</p>
<h2 id="begin">
    <a href="#begin">#</a>
    begin
</h2><h3 id="environment-variables">
    <a href="#environment-variables">#</a>
    environment variables
</h3><p>1.cmake <a class="link" href="https://cmake.org/"  target="_blank" rel="noopener"
    >https://cmake.org/</a> Just download the latest version</p>
<p>2.mingw <a class="link" href="https://github.com/niXman/mingw-builds-binaries/releases"  target="_blank" rel="noopener"
    >https://github.com/niXman/mingw-builds-binaries/releases</a> </br>
Choose the appropriate version based on your operating system. Of course, you can also opt for other build tools.For Windows users, it is recommended to select the posix-seh-ucrt-rt version. Please research the differences between other versions as needed.If you download the build tools from other sources, make sure to check whether the GCC version is outdated. The author previously encountered errors caused by an outdated GCC version, which took quite some time to troubleshoot.
The command to check the GCC version on Windows is: gcc -v</p>
<p>3.Configure environment variables </br>
Add the bin paths of CMake and MinGW to your system&rsquo;s environment variables. Please refer to online guides for instructions on how to configure environment variables.</p>
<p>4.Additional Operations </br>
It is recommended for Windows users to copy mingw32-make.exe and rename it to make.exe. If Visual Studio is not installed on your computer, you may encounter errors due to the absence of compilers like MSVC.</p>
<h3 id="file-structure">
    <a href="#file-structure">#</a>
    File structure
</h3><p>Create a project folder, and it is recommended to organize it with the following structure:</p>
<ul>
<li>assets       // Resource files</li>
<li>build        // Build directory</li>
<li>include      // Header files</li>
<li>lib          // Third-party libraries</li>
<li>src          // Source files</li>
<li>CMakeLists.txt // CMake configuration file</li>
</ul>
<h3 id="writing-the-cmakeliststxt-file">
    <a href="#writing-the-cmakeliststxt-file">#</a>
    Writing the CMakeLists.txt File
</h3><h4 id="top-level-cmakeliststxt">
    <a href="#top-level-cmakeliststxt">#</a>
    Top-Level CMakeLists.txt
</h4><p>This is the main CMakeLists.txt file located in the root directory of your project:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl"># Specify the minimum required version of CMake
</span></span><span class="line"><span class="cl">cmake_minimum_required(VERSION 3.20)
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"># Set the project name
</span></span><span class="line"><span class="cl">project(sol)
</span></span><span class="line"><span class="cl"># Specify the C++ standard
</span></span><span class="line"><span class="cl">set(CMAKE_CXX_STANDARD 20)
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"># Generate compile_commands.json
</span></span><span class="line"><span class="cl">set(CMAKE_EXPORT_COMPILE_COMMANDS ON)
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"># Add the src directory as a subdirectory
</span></span><span class="line"><span class="cl">add_subdirectory(&#34;src&#34;)
</span></span></code></pre></td></tr></table>
</div>
</div><p>The CMake version specified here should not be higher than the version installed on your system.</p>
<h4 id="cmakeliststxt-inside-the-src-directory">
    <a href="#cmakeliststxt-inside-the-src-directory">#</a>
    CMakeLists.txt Inside the src Directory
</h4><p>First, create a test .cpp file inside the src folder.
Then, add the following configuration to src/CMakeLists.txt:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl"># Include all source files in the src directory
</span></span><span class="line"><span class="cl">aux_source_directory(${PROJECT_SOURCE_DIR}/src SRC)
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"># Set the output path for the executable
</span></span><span class="line"><span class="cl">set(EXECUTABLE_OUTPUT_PATH ${PROJECT_SOURCE_DIR}/bin)
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"># Specify the path to header files
</span></span><span class="line"><span class="cl">include_directories(${PROJECT_SOURCE_DIR}/include)
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"># Specify the path to third-party libraries
</span></span><span class="line"><span class="cl">link_directories(${PROJECT_SOURCE_DIR}/lib)
</span></span></code></pre></td></tr></table>
</div>
</div><p>${PROJECT_SOURCE_DIR} It refers to the root directory of the project.
The above configuration defines the set of files to be compiled, the paths to header files and libraries, and sets the output directory for the executable to the bin folder in the project‚Äôs root directory (this folder will be automatically created if it doesn‚Äôt exist during the build process).</p>
<h4 id="raylib-related-configurations">
    <a href="#raylib-related-configurations">#</a>
    raylib Related configurations
</h4><p>Based on the example provided in the official project&rsquo;s CMakeLists.txt, I have made the following integrations and modifications.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span><span class="lnt">46
</span><span class="lnt">47
</span><span class="lnt">48
</span><span class="lnt">49
</span><span class="lnt">50
</span><span class="lnt">51
</span><span class="lnt">52
</span><span class="lnt">53
</span><span class="lnt">54
</span><span class="lnt">55
</span><span class="lnt">56
</span><span class="lnt">57
</span><span class="lnt">58
</span><span class="lnt">59
</span><span class="lnt">60
</span><span class="lnt">61
</span><span class="lnt">62
</span><span class="lnt">63
</span><span class="lnt">64
</span><span class="lnt">65
</span><span class="lnt">66
</span><span class="lnt">67
</span><span class="lnt">68
</span><span class="lnt">69
</span><span class="lnt">70
</span><span class="lnt">71
</span><span class="lnt">72
</span><span class="lnt">73
</span><span class="lnt">74
</span><span class="lnt">75
</span><span class="lnt">76
</span><span class="lnt">77
</span><span class="lnt">78
</span><span class="lnt">79
</span><span class="lnt">80
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-gdscript3" data-lang="gdscript3"><span class="line"><span class="cl"><span class="n">set</span><span class="p">(</span><span class="n">RAYLIB_VERSION</span> <span class="mf">5.5</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">find_package</span><span class="p">(</span><span class="n">raylib</span> <span class="o">$</span><span class="p">{</span><span class="n">RAYLIB_VERSION</span><span class="p">}</span> <span class="n">QUIET</span><span class="p">)</span> <span class="c1"># QUIET or REQUIRED</span>
</span></span><span class="line"><span class="cl"><span class="k">if</span> <span class="p">(</span><span class="n">NOT</span> <span class="n">raylib_FOUND</span><span class="p">)</span> <span class="c1"># If there&#39;s none, fetch and build raylib</span>
</span></span><span class="line"><span class="cl">  <span class="n">include</span><span class="p">(</span><span class="n">FetchContent</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="n">FetchContent_Declare</span><span class="p">(</span>
</span></span><span class="line"><span class="cl">    <span class="n">raylib</span>
</span></span><span class="line"><span class="cl">    <span class="n">DOWNLOAD_EXTRACT_TIMESTAMP</span> <span class="n">OFF</span>
</span></span><span class="line"><span class="cl">    <span class="n">URL</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">github</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">raysan5</span><span class="o">/</span><span class="n">raylib</span><span class="o">/</span><span class="n">archive</span><span class="o">/</span><span class="n">refs</span><span class="o">/</span><span class="n">tags</span><span class="o">/$</span><span class="p">{</span><span class="n">RAYLIB_VERSION</span><span class="p">}</span><span class="o">.</span><span class="n">tar</span><span class="o">.</span><span class="n">gz</span>
</span></span><span class="line"><span class="cl">  <span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="n">FetchContent_GetProperties</span><span class="p">(</span><span class="n">raylib</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="k">if</span> <span class="p">(</span><span class="n">NOT</span> <span class="n">raylib_POPULATED</span><span class="p">)</span> <span class="c1"># Have we downloaded raylib yet?</span>
</span></span><span class="line"><span class="cl">    <span class="n">set</span><span class="p">(</span><span class="n">FETCHCONTENT_QUIET</span> <span class="n">NO</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="n">FetchContent_MakeAvailable</span><span class="p">(</span><span class="n">raylib</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="n">set</span><span class="p">(</span><span class="n">BUILD_EXAMPLES</span> <span class="n">OFF</span> <span class="n">CACHE</span> <span class="n">BOOL</span> <span class="s2">&#34;&#34;</span> <span class="n">FORCE</span><span class="p">)</span> <span class="c1"># don&#39;t build the supplied examples</span>
</span></span><span class="line"><span class="cl">  <span class="n">endif</span><span class="p">()</span>
</span></span><span class="line"><span class="cl"><span class="n">endif</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">set</span><span class="p">(</span><span class="n">RAYGUI_VERSION</span> <span class="mf">4.0</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">find_package</span><span class="p">(</span><span class="n">raygui</span> <span class="o">$</span><span class="p">{</span><span class="n">RAYGUI_VERSION</span><span class="p">}</span> <span class="n">QUIET</span><span class="p">)</span> <span class="c1"># QUIET or REQUIRED</span>
</span></span><span class="line"><span class="cl"><span class="k">if</span> <span class="p">(</span><span class="n">NOT</span> <span class="n">raygui_FOUND</span><span class="p">)</span> <span class="c1"># If there&#39;s none, fetch and build raylib</span>
</span></span><span class="line"><span class="cl">  <span class="n">include</span><span class="p">(</span><span class="n">FetchContent</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="n">FetchContent_Declare</span><span class="p">(</span>
</span></span><span class="line"><span class="cl">    <span class="n">raygui</span>
</span></span><span class="line"><span class="cl">    <span class="n">DOWNLOAD_EXTRACT_TIMESTAMP</span> <span class="n">OFF</span>
</span></span><span class="line"><span class="cl">    <span class="n">URL</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">github</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">raysan5</span><span class="o">/</span><span class="n">raygui</span><span class="o">/</span><span class="n">archive</span><span class="o">/</span><span class="n">refs</span><span class="o">/</span><span class="n">heads</span><span class="o">/</span><span class="n">master</span><span class="o">.</span><span class="n">zip</span>
</span></span><span class="line"><span class="cl">  <span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="n">FetchContent_GetProperties</span><span class="p">(</span><span class="n">raygui</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="k">if</span> <span class="p">(</span><span class="n">NOT</span> <span class="n">raygui_POPULATED</span><span class="p">)</span> <span class="c1"># Have we downloaded raylib yet?</span>
</span></span><span class="line"><span class="cl">    <span class="n">set</span><span class="p">(</span><span class="n">FETCHCONTENT_QUIET</span> <span class="n">NO</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="n">FetchContent_MakeAvailable</span><span class="p">(</span><span class="n">raygui</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="n">set</span><span class="p">(</span><span class="n">BUILD_RAYGUI_EXAMPLES</span> <span class="n">OFF</span> <span class="n">CACHE</span> <span class="n">BOOL</span> <span class="s2">&#34;&#34;</span> <span class="n">FORCE</span><span class="p">)</span> <span class="c1"># don&#39;t build the supplied examples</span>
</span></span><span class="line"><span class="cl">    <span class="n">add_subdirectory</span><span class="p">(</span><span class="o">$</span><span class="p">{</span><span class="n">raygui_SOURCE_DIR</span><span class="p">}</span><span class="o">/</span><span class="n">projects</span><span class="o">/</span><span class="n">CMake</span> <span class="o">$</span><span class="p">{</span><span class="n">raygui_BINARY_DIR</span><span class="p">})</span>
</span></span><span class="line"><span class="cl">  <span class="n">endif</span><span class="p">()</span>
</span></span><span class="line"><span class="cl"><span class="n">endif</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">set</span><span class="p">(</span><span class="n">RRES_VERSION</span> <span class="mf">1.2</span><span class="o">.</span><span class="mi">0</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">find_package</span><span class="p">(</span><span class="n">rres</span> <span class="o">$</span><span class="p">{</span><span class="n">RRES_VERSION</span><span class="p">}</span> <span class="n">QUIET</span><span class="p">)</span> <span class="c1"># QUIET or REQUIRED</span>
</span></span><span class="line"><span class="cl"><span class="k">if</span> <span class="p">(</span><span class="n">NOT</span> <span class="n">rres_FOUND</span><span class="p">)</span> <span class="c1"># If there&#39;s none, fetch and build raylib</span>
</span></span><span class="line"><span class="cl">  <span class="n">include</span><span class="p">(</span><span class="n">FetchContent</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="n">FetchContent_Declare</span><span class="p">(</span>
</span></span><span class="line"><span class="cl">    <span class="n">rres</span>
</span></span><span class="line"><span class="cl">    <span class="n">DOWNLOAD_EXTRACT_TIMESTAMP</span> <span class="n">OFF</span>
</span></span><span class="line"><span class="cl">    <span class="n">URL</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">github</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">raysan5</span><span class="o">/</span><span class="n">rres</span><span class="o">/</span><span class="n">archive</span><span class="o">/</span><span class="n">refs</span><span class="o">/</span><span class="n">heads</span><span class="o">/</span><span class="n">master</span><span class="o">.</span><span class="n">zip</span>
</span></span><span class="line"><span class="cl">  <span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="n">FetchContent_GetProperties</span><span class="p">(</span><span class="n">rres</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="k">if</span> <span class="p">(</span><span class="n">NOT</span> <span class="n">rres_POPULATED</span><span class="p">)</span> <span class="c1"># Have we downloaded raylib yet?</span>
</span></span><span class="line"><span class="cl">    <span class="n">set</span><span class="p">(</span><span class="n">FETCHCONTENT_QUIET</span> <span class="n">NO</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="n">FetchContent_MakeAvailable</span><span class="p">(</span><span class="n">rres</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="n">set</span><span class="p">(</span><span class="n">BUILD_RRES_EXAMPLES</span> <span class="n">OFF</span> <span class="n">CACHE</span> <span class="n">BOOL</span> <span class="s2">&#34;&#34;</span> <span class="n">FORCE</span><span class="p">)</span> <span class="c1"># don&#39;t build the supplied examples</span>
</span></span><span class="line"><span class="cl">    <span class="n">add_subdirectory</span><span class="p">(</span><span class="o">$</span><span class="p">{</span><span class="n">rres_SOURCE_DIR</span><span class="p">}</span><span class="o">/</span><span class="n">projects</span><span class="o">/</span><span class="n">CMake</span> <span class="o">$</span><span class="p">{</span><span class="n">rres_BINARY_DIR</span><span class="p">})</span>
</span></span><span class="line"><span class="cl">  <span class="n">endif</span><span class="p">()</span>
</span></span><span class="line"><span class="cl"><span class="n">endif</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">option</span><span class="p">(</span><span class="n">SUPPORT_FILEFORMAT_WAV</span> <span class="s2">&#34;WAV Support&#34;</span> <span class="n">TRUE</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">option</span><span class="p">(</span><span class="n">SUPPORT_FILEFORMAT_OGG</span> <span class="s2">&#34;OGG Support&#34;</span> <span class="n">TRUE</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">option</span><span class="p">(</span><span class="n">SUPPORT_FILEFORMAT_MP3</span> <span class="s2">&#34;MP3 Support&#34;</span> <span class="n">TRUE</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">option</span><span class="p">(</span><span class="n">SUPPORT_FILEFORMAT_QOA</span> <span class="s2">&#34;QOA Support&#34;</span> <span class="n">TRUE</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">option</span><span class="p">(</span><span class="n">SUPPORT_FILEFORMAT_FLAC</span> <span class="s2">&#34;FLAC Support&#34;</span> <span class="n">TRUE</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">option</span><span class="p">(</span><span class="n">SUPPORT_FILEFORMAT_XM</span> <span class="s2">&#34;XM Support&#34;</span> <span class="n">TRUE</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">option</span><span class="p">(</span><span class="n">SUPPORT_FILEFORMAT_MOD</span> <span class="s2">&#34;MOD Support&#34;</span> <span class="n">TRUE</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">file</span><span class="p">(</span><span class="n">COPY</span> <span class="o">$</span><span class="p">{</span><span class="n">PROJECT_SOURCE_DIR</span><span class="p">}</span><span class="o">/</span><span class="n">include</span><span class="o">/</span><span class="n">rres</span><span class="o">/</span><span class="n">rres</span><span class="o">-</span><span class="n">raylib</span><span class="o">.</span><span class="n">h</span> <span class="n">DESTINATION</span> <span class="o">$</span><span class="p">{</span><span class="n">rres_SOURCE_DIR</span><span class="p">}</span><span class="o">/</span><span class="n">src</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># Our Project</span>
</span></span><span class="line"><span class="cl"><span class="n">add_executable</span><span class="p">(</span><span class="o">$</span><span class="p">{</span><span class="n">PROJECT_NAME</span><span class="p">}</span> <span class="o">$</span><span class="p">{</span><span class="n">SRC</span><span class="p">})</span>
</span></span><span class="line"><span class="cl"><span class="c1">#set(raylib_VERBOSE 1)</span>
</span></span><span class="line"><span class="cl"><span class="n">target_link_libraries</span><span class="p">(</span><span class="o">$</span><span class="p">{</span><span class="n">PROJECT_NAME</span><span class="p">}</span> <span class="n">raylib</span> <span class="n">raygui</span> <span class="n">rres</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># Web Configurations</span>
</span></span><span class="line"><span class="cl"><span class="k">if</span> <span class="p">(</span><span class="o">$</span><span class="p">{</span><span class="n">PLATFORM</span><span class="p">}</span> <span class="n">STREQUAL</span> <span class="s2">&#34;Web&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="n">set_target_properties</span><span class="p">(</span><span class="o">$</span><span class="p">{</span><span class="n">PROJECT_NAME</span><span class="p">}</span> <span class="n">PROPERTIES</span> <span class="n">SUFFIX</span> <span class="s2">&#34;.html&#34;</span><span class="p">)</span> <span class="c1"># Tell Emscripten to build an example.html file.</span>
</span></span><span class="line"><span class="cl">    <span class="n">set</span><span class="p">(</span><span class="n">CMAKE_EXE_LINKER_FLAGS</span> <span class="s2">&#34;${CMAKE_EXE_LINKER_FLAGS} -s USE_GLFW=3 -s ASSERTIONS=1 -s WASM=1 -s ASYNCIFY -s GL_ENABLE_GET_PROC_ADDRESS=1&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">endif</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># Checks if OSX and links appropriate frameworks (Only required on MacOS)</span>
</span></span><span class="line"><span class="cl"><span class="k">if</span> <span class="p">(</span><span class="n">APPLE</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="n">target_link_libraries</span><span class="p">(</span><span class="o">$</span><span class="p">{</span><span class="n">PROJECT_NAME</span><span class="p">}</span> <span class="s2">&#34;-framework IOKit&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="n">target_link_libraries</span><span class="p">(</span><span class="o">$</span><span class="p">{</span><span class="n">PROJECT_NAME</span><span class="p">}</span> <span class="s2">&#34;-framework Cocoa&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="n">target_link_libraries</span><span class="p">(</span><span class="o">$</span><span class="p">{</span><span class="n">PROJECT_NAME</span><span class="p">}</span> <span class="s2">&#34;-framework OpenGL&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">endif</span><span class="p">()</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>The key part lies in the use of find_package. If the corresponding package is not found, CMake will automatically use the package configured in the code.Since raudio has already been integrated into raylib by the author, you only need to download raylib, raygui, and rres.</p>
<h4 id="write-test-code">
    <a href="#write-test-code">#</a>
    Write test code
</h4><p>If you are using C++ code, you will need to make certain modifications to the rres-raylib.h header file; otherwise, compilation errors may occur.
The changes are as follows</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-gdscript3" data-lang="gdscript3"><span class="line"><span class="cl"><span class="o">//</span><span class="n">line</span> <span class="mi">567</span>
</span></span><span class="line"><span class="cl"><span class="n">crypto_argon2_inputs</span> <span class="n">inputs</span> <span class="o">=</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl"><span class="o">.</span><span class="k">pass</span> <span class="o">=</span> <span class="p">(</span><span class="k">const</span> <span class="n">uint8_t</span> <span class="o">*</span><span class="p">)</span><span class="n">rresGetCipherPassword</span><span class="p">(),</span> <span class="o">//</span> <span class="n">User</span> <span class="n">password</span>
</span></span><span class="line"><span class="cl"><span class="o">.</span><span class="n">salt</span> <span class="o">=</span> <span class="n">salt</span><span class="p">,</span> <span class="o">//</span> <span class="n">Salt</span> <span class="k">for</span> <span class="n">the</span> <span class="n">password</span>
</span></span><span class="line"><span class="cl"><span class="o">.</span><span class="n">pass_size</span> <span class="o">=</span> <span class="p">(</span><span class="n">uint32_t</span><span class="p">)</span><span class="n">strlen</span><span class="p">(</span><span class="n">rresGetCipherPassword</span><span class="p">()),</span> <span class="o">//</span> <span class="n">Password</span> <span class="n">length</span>
</span></span><span class="line"><span class="cl"><span class="o">.</span><span class="n">salt_size</span> <span class="o">=</span> <span class="mi">16</span><span class="o">|</span>
</span></span><span class="line"><span class="cl"><span class="p">};</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="o">//</span><span class="n">line</span> <span class="mi">641</span>
</span></span><span class="line"><span class="cl"><span class="n">crypto_argon2_inputs</span> <span class="n">inputs</span> <span class="o">=</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl"><span class="o">.</span><span class="k">pass</span> <span class="o">=</span> <span class="p">(</span><span class="k">const</span> <span class="n">uint8_t</span> <span class="o">*</span><span class="p">)</span><span class="n">rresGetCipherPassword</span><span class="p">(),</span> <span class="o">//</span> <span class="n">User</span> <span class="n">password</span>
</span></span><span class="line"><span class="cl"><span class="o">.</span><span class="n">salt</span> <span class="o">=</span> <span class="n">salt</span><span class="p">,</span> <span class="o">//</span> <span class="n">Salt</span> <span class="k">for</span> <span class="n">the</span> <span class="n">password</span>
</span></span><span class="line"><span class="cl"><span class="o">.</span><span class="n">pass_size</span> <span class="o">=</span> <span class="p">(</span><span class="n">uint32_t</span><span class="p">)</span><span class="n">strlen</span><span class="p">(</span><span class="n">rresGetCipherPassword</span><span class="p">()),</span> <span class="o">//</span> <span class="n">Password</span> <span class="n">length</span>
</span></span><span class="line"><span class="cl"><span class="o">.</span><span class="n">salt_size</span> <span class="o">=</span> <span class="mi">16</span><span class="o">|</span>
</span></span><span class="line"><span class="cl"><span class="p">};</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="o">//</span><span class="n">line</span> <span class="mi">669</span>
</span></span><span class="line"><span class="cl"><span class="ne">int</span> <span class="n">decryptResult</span> <span class="o">=</span> <span class="n">crypto_aead_unlock</span><span class="p">(</span><span class="n">decryptedData</span><span class="p">,</span> <span class="n">mac</span><span class="p">,</span> <span class="n">key</span><span class="p">,</span> <span class="n">nonce</span><span class="p">,</span> <span class="n">NULL</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="p">(</span><span class="k">const</span> <span class="n">u8</span> <span class="o">*</span><span class="p">)</span><span class="n">chunk</span><span class="o">-&gt;</span><span class="n">data</span><span class="o">.</span><span class="n">raw</span><span class="p">,</span> <span class="p">(</span><span class="n">chunk</span><span class="o">-&gt;</span><span class="n">info</span><span class="o">.</span><span class="n">packedSize</span> <span class="o">-</span> <span class="mi">16</span> <span class="o">-</span> <span class="mi">24</span> <span class="o">-</span> <span class="mi">16</span><span class="p">));</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>Since the source code is written in C, modifying the rres-raylib.h header file will make it compatible with C++.</p>
<p>Test Reference</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">  1
</span><span class="lnt">  2
</span><span class="lnt">  3
</span><span class="lnt">  4
</span><span class="lnt">  5
</span><span class="lnt">  6
</span><span class="lnt">  7
</span><span class="lnt">  8
</span><span class="lnt">  9
</span><span class="lnt"> 10
</span><span class="lnt"> 11
</span><span class="lnt"> 12
</span><span class="lnt"> 13
</span><span class="lnt"> 14
</span><span class="lnt"> 15
</span><span class="lnt"> 16
</span><span class="lnt"> 17
</span><span class="lnt"> 18
</span><span class="lnt"> 19
</span><span class="lnt"> 20
</span><span class="lnt"> 21
</span><span class="lnt"> 22
</span><span class="lnt"> 23
</span><span class="lnt"> 24
</span><span class="lnt"> 25
</span><span class="lnt"> 26
</span><span class="lnt"> 27
</span><span class="lnt"> 28
</span><span class="lnt"> 29
</span><span class="lnt"> 30
</span><span class="lnt"> 31
</span><span class="lnt"> 32
</span><span class="lnt"> 33
</span><span class="lnt"> 34
</span><span class="lnt"> 35
</span><span class="lnt"> 36
</span><span class="lnt"> 37
</span><span class="lnt"> 38
</span><span class="lnt"> 39
</span><span class="lnt"> 40
</span><span class="lnt"> 41
</span><span class="lnt"> 42
</span><span class="lnt"> 43
</span><span class="lnt"> 44
</span><span class="lnt"> 45
</span><span class="lnt"> 46
</span><span class="lnt"> 47
</span><span class="lnt"> 48
</span><span class="lnt"> 49
</span><span class="lnt"> 50
</span><span class="lnt"> 51
</span><span class="lnt"> 52
</span><span class="lnt"> 53
</span><span class="lnt"> 54
</span><span class="lnt"> 55
</span><span class="lnt"> 56
</span><span class="lnt"> 57
</span><span class="lnt"> 58
</span><span class="lnt"> 59
</span><span class="lnt"> 60
</span><span class="lnt"> 61
</span><span class="lnt"> 62
</span><span class="lnt"> 63
</span><span class="lnt"> 64
</span><span class="lnt"> 65
</span><span class="lnt"> 66
</span><span class="lnt"> 67
</span><span class="lnt"> 68
</span><span class="lnt"> 69
</span><span class="lnt"> 70
</span><span class="lnt"> 71
</span><span class="lnt"> 72
</span><span class="lnt"> 73
</span><span class="lnt"> 74
</span><span class="lnt"> 75
</span><span class="lnt"> 76
</span><span class="lnt"> 77
</span><span class="lnt"> 78
</span><span class="lnt"> 79
</span><span class="lnt"> 80
</span><span class="lnt"> 81
</span><span class="lnt"> 82
</span><span class="lnt"> 83
</span><span class="lnt"> 84
</span><span class="lnt"> 85
</span><span class="lnt"> 86
</span><span class="lnt"> 87
</span><span class="lnt"> 88
</span><span class="lnt"> 89
</span><span class="lnt"> 90
</span><span class="lnt"> 91
</span><span class="lnt"> 92
</span><span class="lnt"> 93
</span><span class="lnt"> 94
</span><span class="lnt"> 95
</span><span class="lnt"> 96
</span><span class="lnt"> 97
</span><span class="lnt"> 98
</span><span class="lnt"> 99
</span><span class="lnt">100
</span><span class="lnt">101
</span><span class="lnt">102
</span><span class="lnt">103
</span><span class="lnt">104
</span><span class="lnt">105
</span><span class="lnt">106
</span><span class="lnt">107
</span><span class="lnt">108
</span><span class="lnt">109
</span><span class="lnt">110
</span><span class="lnt">111
</span><span class="lnt">112
</span><span class="lnt">113
</span><span class="lnt">114
</span><span class="lnt">115
</span><span class="lnt">116
</span><span class="lnt">117
</span><span class="lnt">118
</span><span class="lnt">119
</span><span class="lnt">120
</span><span class="lnt">121
</span><span class="lnt">122
</span><span class="lnt">123
</span><span class="lnt">124
</span><span class="lnt">125
</span><span class="lnt">126
</span><span class="lnt">127
</span><span class="lnt">128
</span><span class="lnt">129
</span><span class="lnt">130
</span><span class="lnt">131
</span><span class="lnt">132
</span><span class="lnt">133
</span><span class="lnt">134
</span><span class="lnt">135
</span><span class="lnt">136
</span><span class="lnt">137
</span><span class="lnt">138
</span><span class="lnt">139
</span><span class="lnt">140
</span><span class="lnt">141
</span><span class="lnt">142
</span><span class="lnt">143
</span><span class="lnt">144
</span><span class="lnt">145
</span><span class="lnt">146
</span><span class="lnt">147
</span><span class="lnt">148
</span><span class="lnt">149
</span><span class="lnt">150
</span><span class="lnt">151
</span><span class="lnt">152
</span><span class="lnt">153
</span><span class="lnt">154
</span><span class="lnt">155
</span><span class="lnt">156
</span><span class="lnt">157
</span><span class="lnt">158
</span><span class="lnt">159
</span><span class="lnt">160
</span><span class="lnt">161
</span><span class="lnt">162
</span><span class="lnt">163
</span><span class="lnt">164
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-gdscript3" data-lang="gdscript3"><span class="line"><span class="cl"><span class="c1">#include &lt;iostream&gt;</span>
</span></span><span class="line"><span class="cl"><span class="c1">#include &#34;raylib.h&#34;</span>
</span></span><span class="line"><span class="cl"><span class="c1">#define RAYGUI_IMPLEMENTATION</span>
</span></span><span class="line"><span class="cl"><span class="c1">#define RAYGUI_SUPPORT_ICONS</span>
</span></span><span class="line"><span class="cl"><span class="c1">#include &#34;raygui.h&#34;</span>
</span></span><span class="line"><span class="cl"><span class="c1">#define RRES_IMPLEMENTATION</span>
</span></span><span class="line"><span class="cl"><span class="c1">#include &#34;rres.h&#34;</span>
</span></span><span class="line"><span class="cl"><span class="c1">#define RRES_RAYLIB_IMPLEMENTATION</span>
</span></span><span class="line"><span class="cl"><span class="c1">#define RRES_SUPPORT_COMPRESSION_LZ4</span>
</span></span><span class="line"><span class="cl"><span class="c1">#define RRES_SUPPORT_ENCRYPTION_AES</span>
</span></span><span class="line"><span class="cl"><span class="c1">#define RRES_SUPPORT_ENCRYPTION_XCHACHA20</span>
</span></span><span class="line"><span class="cl"><span class="c1">#include &#34;rres-raylib.h&#34; ¬† ¬† // Required to map rres data chunks into raylib </span>
</span></span><span class="line"><span class="cl"><span class="n">structs</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">#include &lt;conio.h&gt; ¬† ¬† ¬† ¬† ¬†// Windows only, no stardard library</span>
</span></span><span class="line"><span class="cl"><span class="c1">#define KEY_ESCAPE ¬†27</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">static</span> <span class="n">unsigned</span> <span class="n">char</span> <span class="o">*</span><span class="n">LoadDataBuffer</span><span class="p">(</span><span class="n">rresResourceChunkData</span> <span class="n">data</span><span class="p">,</span> <span class="n">unsigned</span> <span class="ne">int</span> <span class="n">rawSize</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">static</span> <span class="n">void</span> <span class="n">UnloadDataBuffer</span><span class="p">(</span><span class="n">unsigned</span> <span class="n">char</span> <span class="o">*</span><span class="n">buffer</span><span class="p">);</span> ¬† <span class="o">//</span> <span class="n">Unload</span> <span class="n">data</span> <span class="n">buffer</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="ne">int</span> <span class="n">main</span><span class="p">(</span><span class="n">void</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">¬† ¬† <span class="n">FILE</span> <span class="o">*</span><span class="n">rresFile</span> <span class="o">=</span> <span class="n">fopen</span><span class="p">(</span><span class="s2">&#34;Gloomwood.rres&#34;</span><span class="p">,</span> <span class="s2">&#34;wb&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">¬† ¬† <span class="o">//</span> <span class="n">Define</span> <span class="n">rres</span> <span class="n">file</span> <span class="n">header</span>
</span></span><span class="line"><span class="cl">¬† ¬† <span class="o">//</span> <span class="n">NOTE</span><span class="p">:</span> <span class="n">We</span> <span class="n">are</span> <span class="n">loading</span> <span class="mi">4</span> <span class="n">files</span> <span class="n">that</span> <span class="n">generate</span> <span class="mi">5</span> <span class="n">resource</span> <span class="n">chunks</span> <span class="n">to</span> <span class="n">save</span> <span class="ow">in</span> <span class="n">rres</span>
</span></span><span class="line"><span class="cl">¬† ¬† <span class="n">rresFileHeader</span> <span class="n">header</span> <span class="o">=</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">¬† ¬† ¬† ¬† <span class="o">.</span><span class="n">id</span><span class="p">{</span><span class="s1">&#39;r&#39;</span><span class="p">,</span><span class="s1">&#39;r&#39;</span><span class="p">,</span><span class="s1">&#39;e&#39;</span><span class="p">,</span><span class="s1">&#39;s&#39;</span><span class="p">},</span> ¬† ¬† ¬† <span class="o">//</span> <span class="ne">File</span> <span class="n">identifier</span><span class="p">:</span> <span class="n">rres</span>
</span></span><span class="line"><span class="cl">¬† ¬† ¬† ¬† <span class="o">.</span><span class="n">version</span> <span class="o">=</span> <span class="mi">100</span><span class="p">,</span> ¬† ¬† ¬† ¬† <span class="o">//</span> <span class="ne">File</span> <span class="n">version</span><span class="p">:</span> <span class="mi">100</span> <span class="k">for</span> <span class="n">version</span> <span class="mf">1.0</span>
</span></span><span class="line"><span class="cl">¬† ¬† ¬† ¬† <span class="o">.</span><span class="n">chunkCount</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span> ¬† ¬† ¬† ¬†<span class="o">//</span> <span class="n">Number</span> <span class="n">of</span> <span class="n">resource</span> <span class="n">chunks</span> <span class="ow">in</span> <span class="n">the</span> <span class="n">file</span> <span class="p">(</span><span class="n">MAX</span><span class="p">:</span> <span class="mi">65535</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">¬† ¬† ¬† ¬† <span class="o">.</span><span class="n">cdOffset</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> ¬† ¬† ¬† ¬† ¬†<span class="o">//</span> <span class="n">Central</span> <span class="ne">Directory</span> <span class="n">offset</span> <span class="ow">in</span> <span class="n">file</span> <span class="p">(</span><span class="mi">0</span> <span class="k">if</span> <span class="ow">not</span> <span class="n">available</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">¬† ¬† ¬† ¬† <span class="o">.</span><span class="n">reserved</span> <span class="o">=</span> <span class="mi">0</span> ¬† ¬† ¬† ¬† ¬† <span class="o">//</span> <span class="o">&lt;</span><span class="n">reserved</span><span class="o">&gt;</span>
</span></span><span class="line"><span class="cl">¬† ¬† <span class="p">};</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">¬† ¬† <span class="o">//</span> <span class="n">Write</span> <span class="n">rres</span> <span class="n">file</span> <span class="n">header</span>
</span></span><span class="line"><span class="cl">¬† ¬† <span class="n">fwrite</span><span class="p">(</span><span class="o">&amp;</span><span class="n">header</span><span class="p">,</span> <span class="n">sizeof</span><span class="p">(</span><span class="n">rresFileHeader</span><span class="p">),</span> <span class="mi">1</span><span class="p">,</span> <span class="n">rresFile</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">¬† ¬† <span class="n">rresResourceChunkInfo</span> <span class="n">chunkInfo</span> <span class="o">=</span> <span class="p">{</span> <span class="mi">0</span> <span class="p">};</span> ¬† ¬†<span class="o">//</span> <span class="n">Chunk</span> <span class="n">info</span>
</span></span><span class="line"><span class="cl">¬† ¬† <span class="n">rresResourceChunkData</span> <span class="n">chunkData</span> <span class="o">=</span> <span class="p">{</span> <span class="mi">0</span> <span class="p">};</span> ¬† ¬†<span class="o">//</span> <span class="n">Chunk</span> <span class="n">data</span>
</span></span><span class="line"><span class="cl">¬† ¬† <span class="n">unsigned</span> <span class="n">char</span> <span class="o">*</span><span class="n">buffer</span> <span class="o">=</span> <span class="n">NULL</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">¬† ¬† <span class="n">Wave</span> <span class="n">musicAssets</span> <span class="o">=</span> <span class="n">LoadWave</span><span class="p">(</span><span class="s2">&#34;../asset/Gloomwood.wav&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">¬† ¬† <span class="n">unsigned</span> <span class="ne">int</span> <span class="n">rawSize</span> <span class="o">=</span> <span class="n">musicAssets</span><span class="o">.</span><span class="n">frameCount</span><span class="o">*</span><span class="n">musicAssets</span><span class="o">.</span><span class="n">channels</span><span class="o">*</span><span class="p">(</span><span class="n">musicAssets</span><span class="o">.</span><span class="n">sampleSize</span><span class="o">/</span><span class="mi">8</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">¬† ¬† <span class="o">//</span> <span class="n">Define</span> <span class="n">chunk</span> <span class="n">info</span><span class="p">:</span> <span class="n">WAVE</span>
</span></span><span class="line"><span class="cl">¬† ¬† <span class="n">chunkInfo</span><span class="o">.</span><span class="n">type</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;W&#39;</span><span class="p">;</span> ¬† ¬† ¬† ¬† <span class="o">//</span> <span class="ne">Resource</span> <span class="n">chunk</span> <span class="n">type</span> <span class="p">(</span><span class="n">FourCC</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">¬† ¬† <span class="n">chunkInfo</span><span class="o">.</span><span class="n">type</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;A&#39;</span><span class="p">;</span> ¬† ¬† ¬† ¬† <span class="o">//</span> <span class="ne">Resource</span> <span class="n">chunk</span> <span class="n">type</span> <span class="p">(</span><span class="n">FourCC</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">¬† ¬† <span class="n">chunkInfo</span><span class="o">.</span><span class="n">type</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;V&#39;</span><span class="p">;</span> ¬† ¬† ¬† ¬† <span class="o">//</span> <span class="ne">Resource</span> <span class="n">chunk</span> <span class="n">type</span> <span class="p">(</span><span class="n">FourCC</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">¬† ¬† <span class="n">chunkInfo</span><span class="o">.</span><span class="n">type</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;E&#39;</span><span class="p">;</span> ¬† ¬† ¬† ¬† <span class="o">//</span> <span class="ne">Resource</span> <span class="n">chunk</span> <span class="n">type</span> <span class="p">(</span><span class="n">FourCC</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">¬† ¬† <span class="o">//</span><span class="ne">Resource</span> <span class="n">chunk</span> <span class="n">identifier</span> <span class="p">(</span><span class="n">generated</span> <span class="n">from</span> <span class="n">filename</span> <span class="n">CRC32</span> <span class="nb">hash</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">¬† ¬† <span class="n">char</span> <span class="n">bufferPath</span><span class="p">[</span><span class="mi">2048</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&#34;../asset/Gloomwood.wav&#34;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">¬† ¬† <span class="n">unsigned</span> <span class="n">char</span><span class="o">*</span> <span class="n">path</span> <span class="o">=</span> <span class="n">reinterpret_cast</span><span class="o">&lt;</span><span class="n">unsigned</span> <span class="n">char</span> <span class="o">*&gt;</span><span class="p">(</span><span class="n">bufferPath</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">¬† ¬† <span class="n">chunkInfo</span><span class="o">.</span><span class="n">id</span> <span class="o">=</span> <span class="n">rresComputeCRC32</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="n">strlen</span><span class="p">(</span><span class="s2">&#34;../asset/Gloomwood.wav&#34;</span><span class="p">));</span>
</span></span><span class="line"><span class="cl">¬† ¬† <span class="n">chunkInfo</span><span class="o">.</span><span class="n">compType</span> <span class="o">=</span> <span class="n">RRES_COMP_NONE</span><span class="p">,</span> ¬† ¬† <span class="o">//</span> <span class="n">Data</span> <span class="n">compression</span> <span class="n">algorithm</span>
</span></span><span class="line"><span class="cl">¬† ¬† <span class="n">chunkInfo</span><span class="o">.</span><span class="n">cipherType</span> <span class="o">=</span> <span class="n">RRES_CIPHER_NONE</span><span class="p">,</span> <span class="o">//</span> <span class="n">Data</span> <span class="n">encription</span> <span class="n">algorithm</span>
</span></span><span class="line"><span class="cl">¬† ¬† <span class="n">chunkInfo</span><span class="o">.</span><span class="n">flags</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> ¬† ¬† ¬† ¬† ¬† ¬† <span class="o">//</span> <span class="n">Data</span> <span class="n">flags</span> <span class="p">(</span><span class="k">if</span> <span class="n">required</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">¬† ¬† <span class="n">chunkInfo</span><span class="o">.</span><span class="n">baseSize</span> <span class="o">=</span> <span class="mi">5</span><span class="o">*</span><span class="n">sizeof</span><span class="p">(</span><span class="n">unsigned</span> <span class="ne">int</span><span class="p">)</span> <span class="o">+</span> <span class="n">rawSize</span><span class="p">;</span> ¬† <span class="o">//</span> <span class="n">Data</span> <span class="n">base</span> <span class="n">size</span> <span class="p">(</span><span class="n">uncompressed</span><span class="o">/</span><span class="n">unencrypted</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">¬† ¬† <span class="n">chunkInfo</span><span class="o">.</span><span class="n">packedSize</span> <span class="o">=</span> <span class="n">chunkInfo</span><span class="o">.</span><span class="n">baseSize</span><span class="p">;</span> <span class="o">//</span> <span class="n">Data</span> <span class="n">chunk</span> <span class="n">size</span> <span class="p">(</span><span class="n">compressed</span><span class="o">/</span><span class="n">encrypted</span> <span class="o">+</span> <span class="n">custom</span> <span class="n">data</span> <span class="n">appended</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">¬† ¬† <span class="n">chunkInfo</span><span class="o">.</span><span class="n">nextOffset</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> ¬† ¬† ¬† ¬†<span class="o">//</span> <span class="n">Next</span> <span class="n">resource</span> <span class="n">chunk</span> <span class="n">global</span> <span class="n">offset</span> <span class="p">(</span><span class="k">if</span> <span class="n">resource</span> <span class="n">has</span> <span class="n">multiple</span> <span class="n">chunks</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">¬† ¬† <span class="n">chunkInfo</span><span class="o">.</span><span class="n">reserved</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> ¬† ¬† ¬† ¬† ¬†<span class="o">//</span> <span class="o">&lt;</span><span class="n">reserved</span><span class="o">&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">¬† ¬† <span class="o">//</span> <span class="n">Define</span> <span class="n">chunk</span> <span class="n">data</span><span class="p">:</span> <span class="n">WAVE</span>
</span></span><span class="line"><span class="cl">¬† ¬† <span class="n">chunkData</span><span class="o">.</span><span class="n">propCount</span> <span class="o">=</span> <span class="mi">4</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">¬† ¬† <span class="n">chunkData</span><span class="o">.</span><span class="n">props</span> <span class="o">=</span> <span class="p">(</span><span class="n">unsigned</span> <span class="ne">int</span> <span class="o">*</span><span class="p">)</span><span class="n">RRES_CALLOC</span><span class="p">(</span><span class="n">chunkData</span><span class="o">.</span><span class="n">propCount</span><span class="p">,</span> <span class="n">sizeof</span><span class="p">(</span><span class="n">unsigned</span> <span class="ne">int</span><span class="p">));</span>
</span></span><span class="line"><span class="cl">¬† ¬† <span class="n">chunkData</span><span class="o">.</span><span class="n">props</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">musicAssets</span><span class="o">.</span><span class="n">frameCount</span><span class="p">;</span> ¬† ¬† ¬†<span class="o">//</span> <span class="n">props</span><span class="p">[</span><span class="mi">0</span><span class="p">]:</span><span class="n">frameCount</span>
</span></span><span class="line"><span class="cl">¬† ¬† <span class="n">chunkData</span><span class="o">.</span><span class="n">props</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">musicAssets</span><span class="o">.</span><span class="n">sampleRate</span><span class="p">;</span> ¬† ¬† ¬†<span class="o">//</span> <span class="n">props</span><span class="p">[</span><span class="mi">1</span><span class="p">]:</span><span class="n">sampleRate</span>
</span></span><span class="line"><span class="cl">¬† ¬† <span class="n">chunkData</span><span class="o">.</span><span class="n">props</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="n">musicAssets</span><span class="o">.</span><span class="n">sampleSize</span><span class="p">;</span> ¬† ¬† ¬†<span class="o">//</span> <span class="n">props</span><span class="p">[</span><span class="mi">2</span><span class="p">]:</span><span class="n">sampleSize</span>
</span></span><span class="line"><span class="cl">¬† ¬† <span class="n">chunkData</span><span class="o">.</span><span class="n">props</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">=</span> <span class="n">musicAssets</span><span class="o">.</span><span class="n">channels</span><span class="p">;</span> ¬† ¬† ¬† ¬†<span class="o">//</span> <span class="n">props</span><span class="p">[</span><span class="mi">3</span><span class="p">]:</span><span class="n">channels</span> ¬† ¬†
</span></span><span class="line"><span class="cl">¬† ¬† <span class="n">chunkData</span><span class="o">.</span><span class="n">raw</span> <span class="o">=</span> <span class="n">musicAssets</span><span class="o">.</span><span class="n">data</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">¬† ¬† ¬†<span class="o">//</span> <span class="n">Get</span> <span class="n">a</span> <span class="n">continuous</span> <span class="n">data</span> <span class="n">buffer</span> <span class="n">from</span> <span class="n">chunkData</span>
</span></span><span class="line"><span class="cl">¬† ¬† <span class="n">buffer</span> <span class="o">=</span> <span class="n">LoadDataBuffer</span><span class="p">(</span><span class="n">chunkData</span><span class="p">,</span> <span class="n">rawSize</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">¬† ¬† 
</span></span><span class="line"><span class="cl">¬† ¬† <span class="o">//</span> <span class="n">Compute</span> <span class="n">data</span> <span class="n">chunk</span> <span class="n">CRC32</span> <span class="p">(</span><span class="n">propCount</span> <span class="o">+</span> <span class="n">props</span><span class="p">[]</span> <span class="o">+</span> <span class="n">data</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">¬† ¬† <span class="n">chunkInfo</span><span class="o">.</span><span class="n">crc32</span> <span class="o">=</span> <span class="n">rresComputeCRC32</span><span class="p">(</span><span class="n">buffer</span><span class="p">,</span> <span class="n">chunkInfo</span><span class="o">.</span><span class="n">packedSize</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">¬† ¬† <span class="o">//</span> <span class="n">Write</span> <span class="n">resource</span> <span class="n">chunk</span> <span class="n">into</span> <span class="n">rres</span> <span class="n">file</span>
</span></span><span class="line"><span class="cl">¬† ¬† <span class="n">fwrite</span><span class="p">(</span><span class="o">&amp;</span><span class="n">chunkInfo</span><span class="p">,</span> <span class="n">sizeof</span><span class="p">(</span><span class="n">rresResourceChunkInfo</span><span class="p">),</span> <span class="mi">1</span><span class="p">,</span> <span class="n">rresFile</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">¬† ¬† <span class="n">fwrite</span><span class="p">(</span><span class="n">buffer</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">chunkInfo</span><span class="o">.</span><span class="n">packedSize</span><span class="p">,</span> <span class="n">rresFile</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">¬† ¬† <span class="o">//</span> <span class="n">Free</span> <span class="n">required</span> <span class="n">memory</span>
</span></span><span class="line"><span class="cl">¬† ¬† <span class="n">memset</span><span class="p">(</span><span class="o">&amp;</span><span class="n">chunkInfo</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">sizeof</span><span class="p">(</span><span class="n">rresResourceChunkInfo</span><span class="p">));</span>
</span></span><span class="line"><span class="cl">¬† ¬† <span class="n">RRES_FREE</span><span class="p">(</span><span class="n">chunkData</span><span class="o">.</span><span class="n">props</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">¬† ¬† <span class="n">UnloadDataBuffer</span><span class="p">(</span><span class="n">buffer</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">¬† ¬† <span class="n">UnloadWave</span><span class="p">(</span><span class="n">musicAssets</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">¬† ¬† <span class="n">fclose</span><span class="p">(</span><span class="n">rresFile</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">¬† ¬† 
</span></span><span class="line"><span class="cl">¬† ¬† <span class="n">Sound</span> <span class="n">sound</span> <span class="o">=</span> <span class="p">{</span> <span class="mi">0</span> <span class="p">};</span> ¬† ¬† ¬† ¬† ¬† ¬†<span class="o">//</span> <span class="n">Store</span> <span class="n">RRES_DATA_WAVE</span> <span class="n">loaded</span> <span class="n">data</span> <span class="o">-&gt;</span> <span class="n">LoadSoundFromWave</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">¬† ¬† <span class="o">//</span> <span class="n">Load</span> <span class="n">content</span> <span class="n">from</span> <span class="n">rres</span> <span class="n">file</span>
</span></span><span class="line"><span class="cl">¬† ¬† <span class="n">rresResourceChunk</span> <span class="n">chunk</span> <span class="o">=</span> <span class="p">{</span> <span class="mi">0</span> <span class="p">};</span> <span class="o">//</span> <span class="n">Single</span> <span class="n">resource</span> <span class="n">chunk</span>
</span></span><span class="line"><span class="cl">¬† ¬† <span class="n">rresResourceMulti</span> <span class="n">multi</span> <span class="o">=</span> <span class="p">{</span> <span class="mi">0</span> <span class="p">};</span> <span class="o">//</span> <span class="n">Multiple</span> <span class="n">resource</span> <span class="n">chunks</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">¬† ¬† <span class="k">static</span> <span class="n">unsigned</span> <span class="n">char</span> <span class="n">key</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">¬† ¬† <span class="n">InitAudioDevice</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">¬† ¬† <span class="n">Music</span> <span class="n">music</span> <span class="o">=</span> <span class="n">LoadMusicStream</span><span class="p">(</span><span class="s2">&#34;../asset/kano.mp3&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">¬† ¬† <span class="n">PlayMusicStream</span><span class="p">(</span><span class="n">music</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">¬† ¬† <span class="n">printf</span><span class="p">(</span><span class="s2">&#34;</span><span class="se">\n</span><span class="s2">Press ESC to stop...</span><span class="se">\n</span><span class="s2">&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">¬† ¬† <span class="k">while</span> <span class="p">(</span><span class="n">key</span> <span class="o">!=</span> <span class="n">KEY_ESCAPE</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">¬† ¬† ¬† ¬† <span class="p">{</span>
</span></span><span class="line"><span class="cl">¬† ¬† ¬† ¬† ¬† ¬† <span class="n">key</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">¬† ¬† ¬† ¬† ¬† ¬† <span class="k">if</span> <span class="p">(</span><span class="n">_kbhit</span><span class="p">())</span> <span class="n">key</span> <span class="o">=</span> <span class="n">_getch</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">¬† ¬† ¬† ¬† ¬† ¬† <span class="n">UpdateMusicStream</span><span class="p">(</span><span class="n">music</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">¬† ¬† ¬† ¬† <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">¬† ¬† <span class="n">UnloadMusicStream</span><span class="p">(</span><span class="n">music</span><span class="p">);</span> ¬† <span class="o">//</span> <span class="n">Unload</span> <span class="n">music</span> <span class="n">stream</span> <span class="n">data</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">¬† ¬† <span class="n">InitWindow</span><span class="p">(</span><span class="mi">400</span><span class="p">,</span> <span class="mi">200</span><span class="p">,</span> <span class="s2">&#34;Sol plan test&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">¬† ¬† <span class="n">SetTargetFPS</span><span class="p">(</span><span class="mi">60</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">¬† ¬† <span class="ne">bool</span> <span class="n">showMessageBox</span> <span class="o">=</span> <span class="bp">false</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">¬† ¬† <span class="k">while</span> <span class="p">(</span><span class="o">!</span><span class="n">WindowShouldClose</span><span class="p">())</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">¬† ¬† <span class="p">{</span>
</span></span><span class="line"><span class="cl">¬† ¬† ¬† ¬† <span class="o">//</span> <span class="n">Draw</span>
</span></span><span class="line"><span class="cl">¬† ¬† ¬† ¬† <span class="o">//----------------------------------------------------------------------------------</span>
</span></span><span class="line"><span class="cl">¬† ¬† ¬† ¬† <span class="n">BeginDrawing</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">¬† ¬† ¬† ¬† <span class="n">ClearBackground</span><span class="p">(</span><span class="n">GetColor</span><span class="p">(</span><span class="n">GuiGetStyle</span><span class="p">(</span><span class="n">DEFAULT</span><span class="p">,</span> <span class="n">BACKGROUND_COLOR</span><span class="p">)));</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">¬† ¬† ¬† ¬† ¬† ¬† <span class="k">if</span> <span class="p">(</span><span class="n">GuiButton</span><span class="p">((</span><span class="n">Rectangle</span><span class="p">){</span> <span class="mi">24</span><span class="p">,</span> <span class="mi">24</span><span class="p">,</span> <span class="mi">120</span><span class="p">,</span> <span class="mi">30</span> <span class="p">},</span> <span class="s2">&#34;#191#Show Message&#34;</span><span class="p">))</span> <span class="n">showMessageBox</span> <span class="o">=</span> <span class="bp">true</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">¬† ¬† ¬† ¬† ¬† ¬† <span class="k">if</span> <span class="p">(</span><span class="n">showMessageBox</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">¬† ¬† ¬† ¬† ¬† ¬† <span class="p">{</span>
</span></span><span class="line"><span class="cl">¬† ¬† ¬† ¬† ¬† ¬† ¬† ¬† <span class="ne">int</span> <span class="n">result</span> <span class="o">=</span> <span class="n">GuiMessageBox</span><span class="p">((</span><span class="n">Rectangle</span><span class="p">){</span> <span class="mi">85</span><span class="p">,</span> <span class="mi">70</span><span class="p">,</span> <span class="mi">250</span><span class="p">,</span> <span class="mi">100</span> <span class="p">},</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">¬† ¬† ¬† ¬† ¬† ¬† ¬† ¬† ¬† ¬† <span class="s2">&#34;#191#Message Box&#34;</span><span class="p">,</span> <span class="s2">&#34;Hi! This is SolPlan!&#34;</span><span class="p">,</span> <span class="s2">&#34;just test&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">¬† ¬† ¬† ¬† ¬† ¬† ¬† ¬† <span class="k">if</span> <span class="p">(</span><span class="n">result</span> <span class="o">&gt;=</span> <span class="mi">0</span><span class="p">)</span> <span class="n">showMessageBox</span> <span class="o">=</span> <span class="bp">false</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">¬† ¬† ¬† ¬† ¬† ¬† <span class="p">}</span>
</span></span><span class="line"><span class="cl">¬† ¬† ¬† ¬† <span class="n">EndDrawing</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">¬† ¬† <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">¬† ¬† <span class="n">CloseAudioDevice</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">¬† ¬† <span class="n">CloseWindow</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">¬† ¬† <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="o">//</span> <span class="n">Load</span> <span class="n">a</span> <span class="n">continuous</span> <span class="n">data</span> <span class="n">buffer</span> <span class="n">from</span> <span class="n">rresResourceChunkData</span> <span class="n">struct</span>
</span></span><span class="line"><span class="cl"><span class="k">static</span> <span class="n">unsigned</span> <span class="n">char</span> <span class="o">*</span><span class="n">LoadDataBuffer</span><span class="p">(</span><span class="n">rresResourceChunkData</span> <span class="n">data</span><span class="p">,</span> <span class="n">unsigned</span> <span class="ne">int</span> <span class="n">rawSize</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">¬† ¬† <span class="n">unsigned</span> <span class="n">char</span> <span class="o">*</span><span class="n">buffer</span> <span class="o">=</span> <span class="p">(</span><span class="n">unsigned</span> <span class="n">char</span> <span class="o">*</span><span class="p">)</span><span class="n">RRES_CALLOC</span><span class="p">((</span><span class="n">data</span><span class="o">.</span><span class="n">propCount</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span><span class="o">*</span><span class="n">sizeof</span><span class="p">(</span><span class="n">unsigned</span> <span class="ne">int</span><span class="p">)</span> <span class="o">+</span> <span class="n">rawSize</span><span class="p">,</span> <span class="mi">1</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">¬† ¬† <span class="n">memcpy</span><span class="p">(</span><span class="n">buffer</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">data</span><span class="o">.</span><span class="n">propCount</span><span class="p">,</span> <span class="n">sizeof</span><span class="p">(</span><span class="n">unsigned</span> <span class="ne">int</span><span class="p">));</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">¬† ¬† <span class="k">for</span> <span class="p">(</span><span class="ne">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">data</span><span class="o">.</span><span class="n">propCount</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="n">memcpy</span><span class="p">(</span><span class="n">buffer</span> <span class="o">+</span> <span class="p">(</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span><span class="o">*</span><span class="n">sizeof</span><span class="p">(</span><span class="n">unsigned</span> <span class="ne">int</span><span class="p">),</span> <span class="o">&amp;</span><span class="n">data</span><span class="o">.</span><span class="n">props</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">sizeof</span><span class="p">(</span><span class="n">unsigned</span> <span class="ne">int</span><span class="p">));</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">¬† ¬† <span class="n">memcpy</span><span class="p">(</span><span class="n">buffer</span> <span class="o">+</span> <span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">propCount</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span><span class="o">*</span><span class="n">sizeof</span><span class="p">(</span><span class="n">unsigned</span> <span class="ne">int</span><span class="p">),</span> <span class="n">data</span><span class="o">.</span><span class="n">raw</span><span class="p">,</span> <span class="n">rawSize</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">¬† ¬† <span class="k">return</span> <span class="n">buffer</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="o">//</span> <span class="n">Unload</span> <span class="n">data</span> <span class="n">buffer</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">static</span> <span class="n">void</span> <span class="n">UnloadDataBuffer</span><span class="p">(</span><span class="n">unsigned</span> <span class="n">char</span> <span class="o">*</span><span class="n">buffer</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">¬† ¬† <span class="n">RRES_FREE</span><span class="p">(</span><span class="n">buffer</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="build">
    <a href="#build">#</a>
    build
</h4><p>Finally, create a build folder in the project‚Äôs root directory. Open the command line in the build folder and enter the following commands in sequence:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">cmake ../ -G&#34;Unix Makefiles&#34;
</span></span><span class="line"><span class="cl">make
</span></span></code></pre></td></tr></table>
</div>
</div><p>-G ‚ÄúUnix Makefiles‚Äù If you are using Windows and need to makefiles, you need to add this statement. The download may fail during runtime due to network effects, just try a few more times. If everything is fine, you should see a bin folder in the root directory with an executable file in it, and if the executable file runs normally, you are done.</p>
<h3 id="end">
    <a href="#end">#</a>
    End
</h3><p>If you don&rsquo;t want to go through the trouble, you can download my project directly from github. <a class="link" href="https://github.com/IyuMashiro/raylib_raygui_rres_template"  target="_blank" rel="noopener"
    >https://github.com/IyuMashiro/raylib_raygui_rres_template</a></p>

</section>


    <footer class="article-footer">
    
    <section class="article-tags">
        
            <a href="/en/tags/cmake/">Cmake</a>
        
            <a href="/en/tags/raylib/">Raylib</a>
        
    </section>


    
    <section class="article-copyright">
        <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-copyright" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="12" cy="12" r="9" />
  <path d="M14.5 9a3.5 4 0 1 0 0 6" />
</svg>



        <span>Licensed under CC BY-NC-SA 4.0</span>
    </section>
    </footer>


    
</article>

    

    

     
    
        
    <script
    src="https://giscus.app/client.js"
    data-repo="IyuMashiro/iyumashiro.github.io"
    data-repo-id="R_kgDOLq4O3A"
    data-category="Announcements"
    data-category-id="DIC_kwDOLq4O3M4Cegcv"
    data-mapping="pathname"
    data-strict="0"
    data-reactions-enabled="1"
    data-emit-metadata="0"
    data-input-position="top"
    data-theme="light"
    data-lang="en"
    crossorigin="anonymous"
    async
></script>
<script>
    function setGiscusTheme(theme) {
        let giscus = document.querySelector("iframe.giscus-frame");
        if (giscus) {
            giscus.contentWindow.postMessage(
                {
                    giscus: {
                        setConfig: {
                            theme: theme,
                        },
                    },
                },
                "https://giscus.app"
            );
        }
    }

    (function () {
        addEventListener("message", (e) => {
            if (event.origin !== "https://giscus.app") return;
            handler();
        });
        window.addEventListener("onColorSchemeChange", handler);

        function handler() {
            if (document.documentElement.dataset.scheme === "light") {
                setGiscusTheme('light');
            } else {
                setGiscusTheme('dark_dimmed');
            }
        }
    })();
</script>

    

    <footer class="site-footer">
    <section class="copyright">
        &copy; 
        
            2020 - 
        
        2025 iyuMashiro
    </section>
    
    <section class="powerby">
        Built with <a href="https://gohugo.io/" target="_blank" rel="noopener">Hugo</a> <br />
        Theme <b><a href="https://github.com/CaiJimmy/hugo-theme-stack" target="_blank" rel="noopener" data-version="3.25.0">Stack</a></b> designed by <a href="https://jimmycai.com" target="_blank" rel="noopener">Jimmy</a>
    </section>
</footer>


    
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

    
    <div class="pswp__bg"></div>

    
    <div class="pswp__scroll-wrap">

        
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>

        
        <div class="pswp__ui pswp__ui--hidden">

            <div class="pswp__top-bar">

                

                <div class="pswp__counter"></div>

                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>

                <button class="pswp__button pswp__button--share" title="Share"></button>

                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>

                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>

                
                
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                        <div class="pswp__preloader__cut">
                            <div class="pswp__preloader__donut"></div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div>
            </div>

            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>

            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>

            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>

        </div>

    </div>

</div><script 
                src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js"integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo="crossorigin="anonymous"
                defer
                >
            </script><script 
                src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js"integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU="crossorigin="anonymous"
                defer
                >
            </script><link 
                rel="stylesheet" 
                href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.min.css"crossorigin="anonymous"
            ><link 
                rel="stylesheet" 
                href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.css"crossorigin="anonymous"
            >

            </main>
        </div>
        <script 
                src="https://cdn.jsdelivr.net/npm/node-vibrant@3.1.6/dist/vibrant.min.js"integrity="sha256-awcR2jno4kI5X0zL8ex0vi2z&#43;KMkF24hUW8WePSA9HM="crossorigin="anonymous"
                
                >
            </script><script type="text/javascript" src="/ts/main.js" defer></script>
<script>
    (function () {
        const customFont = document.createElement('link');
        customFont.href = "https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap";

        customFont.type = "text/css";
        customFont.rel = "stylesheet";

        document.head.appendChild(customFont);
    }());
</script>

    </body>
</html>
